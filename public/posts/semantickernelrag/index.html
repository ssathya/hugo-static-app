<!doctype html><html lang=en dir=auto><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>SemanticKernelRag | Sridhar quick notes</title>
<meta name=keywords content="programming,ai"><meta name=description content="Okay, let&rsquo;s break down how to use Semantic Kernel with Retrieval Augmented Generation (RAG) in a Blazor application. It can be a bit tricky to get all the pieces working together, so we&rsquo;ll go step by step.
Understanding the Core Concepts

Semantic Kernel: This is a framework that helps you build intelligent applications by integrating Large Language Models (LLMs) like OpenAI, Azure OpenAI, etc. It provides abstractions for things like plugins, memory, and planners.
RAG (Retrieval Augmented Generation): This approach improves LLM responses by first retrieving relevant information from a data source (like a vector database) and then using that information as context when generating the final output. This helps the LLM ground its responses in factual data and reduce hallucinations.
Blazor: This is a framework for building interactive web UIs with C# instead of JavaScript. We&rsquo;ll use it to create the front-end for your RAG-powered application.

High-Level Steps"><meta name=author content="Me"><link rel=canonical href=http://localhost:1313/posts/semantickernelrag/><meta name=google-site-verification content="XYZabc"><meta name=yandex-verification content="XYZabc"><meta name=msvalidate.01 content="XYZabc"><link crossorigin=anonymous href=/assets/css/stylesheet.6da9a63d25a9608bca2f7f907a030e887a7dd3c3f3918e4cc113129361414bda.css integrity="sha256-bammPSWpYIvKL3+QegMOiHp908PzkY5MwRMSk2FBS9o=" rel="preload stylesheet" as=style><link rel=icon href=http://localhost:1313/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=16x16 href=http://localhost:1313/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=32x32 href=http://localhost:1313/%3Clink%20/%20abs%20url%3E><link rel=apple-touch-icon href=http://localhost:1313/%3Clink%20/%20abs%20url%3E><link rel=mask-icon href=http://localhost:1313/%3Clink%20/%20abs%20url%3E><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=http://localhost:1313/posts/semantickernelrag/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:url" content="http://localhost:1313/posts/semantickernelrag/"><meta property="og:site_name" content="Sridhar quick notes"><meta property="og:title" content="SemanticKernelRag"><meta property="og:description" content="Okay, let’s break down how to use Semantic Kernel with Retrieval Augmented Generation (RAG) in a Blazor application. It can be a bit tricky to get all the pieces working together, so we’ll go step by step.
Understanding the Core Concepts
Semantic Kernel: This is a framework that helps you build intelligent applications by integrating Large Language Models (LLMs) like OpenAI, Azure OpenAI, etc. It provides abstractions for things like plugins, memory, and planners. RAG (Retrieval Augmented Generation): This approach improves LLM responses by first retrieving relevant information from a data source (like a vector database) and then using that information as context when generating the final output. This helps the LLM ground its responses in factual data and reduce hallucinations. Blazor: This is a framework for building interactive web UIs with C# instead of JavaScript. We’ll use it to create the front-end for your RAG-powered application. High-Level Steps"><meta property="og:locale" content="en-us"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2025-03-15T11:22:29-04:00"><meta property="article:modified_time" content="2025-03-15T11:22:29-04:00"><meta property="article:tag" content="Programming"><meta property="article:tag" content="Ai"><meta property="og:image" content="http://localhost:1313/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="http://localhost:1313/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:title content="SemanticKernelRag"><meta name=twitter:description content="Okay, let&rsquo;s break down how to use Semantic Kernel with Retrieval Augmented Generation (RAG) in a Blazor application. It can be a bit tricky to get all the pieces working together, so we&rsquo;ll go step by step.
Understanding the Core Concepts

Semantic Kernel: This is a framework that helps you build intelligent applications by integrating Large Language Models (LLMs) like OpenAI, Azure OpenAI, etc. It provides abstractions for things like plugins, memory, and planners.
RAG (Retrieval Augmented Generation): This approach improves LLM responses by first retrieving relevant information from a data source (like a vector database) and then using that information as context when generating the final output. This helps the LLM ground its responses in factual data and reduce hallucinations.
Blazor: This is a framework for building interactive web UIs with C# instead of JavaScript. We&rsquo;ll use it to create the front-end for your RAG-powered application.

High-Level Steps"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"http://localhost:1313/posts/"},{"@type":"ListItem","position":2,"name":"SemanticKernelRag","item":"http://localhost:1313/posts/semantickernelrag/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"SemanticKernelRag","name":"SemanticKernelRag","description":"Okay, let\u0026rsquo;s break down how to use Semantic Kernel with Retrieval Augmented Generation (RAG) in a Blazor application. It can be a bit tricky to get all the pieces working together, so we\u0026rsquo;ll go step by step.\nUnderstanding the Core Concepts\nSemantic Kernel: This is a framework that helps you build intelligent applications by integrating Large Language Models (LLMs) like OpenAI, Azure OpenAI, etc. It provides abstractions for things like plugins, memory, and planners. RAG (Retrieval Augmented Generation): This approach improves LLM responses by first retrieving relevant information from a data source (like a vector database) and then using that information as context when generating the final output. This helps the LLM ground its responses in factual data and reduce hallucinations. Blazor: This is a framework for building interactive web UIs with C# instead of JavaScript. We\u0026rsquo;ll use it to create the front-end for your RAG-powered application. High-Level Steps\n","keywords":["programming","ai"],"articleBody":"Okay, let’s break down how to use Semantic Kernel with Retrieval Augmented Generation (RAG) in a Blazor application. It can be a bit tricky to get all the pieces working together, so we’ll go step by step.\nUnderstanding the Core Concepts\nSemantic Kernel: This is a framework that helps you build intelligent applications by integrating Large Language Models (LLMs) like OpenAI, Azure OpenAI, etc. It provides abstractions for things like plugins, memory, and planners. RAG (Retrieval Augmented Generation): This approach improves LLM responses by first retrieving relevant information from a data source (like a vector database) and then using that information as context when generating the final output. This helps the LLM ground its responses in factual data and reduce hallucinations. Blazor: This is a framework for building interactive web UIs with C# instead of JavaScript. We’ll use it to create the front-end for your RAG-powered application. High-Level Steps\nHere’s a general outline of what we’ll need to do:\nSet up your environment: Install the necessary NuGet packages and configure your API keys. Prepare your data source: Choose a vector database (or similar) and index your data. Create Semantic Kernel components: Build your skills (plugins), memory, and kernel. Develop your Blazor UI: Create a simple interface for users to ask questions. Connect Semantic Kernel with Blazor: Send user input to the kernel, get the RAG-enhanced response, and display it in the UI. Let’s Get Started with the Code\nI’ll provide code snippets with explanations and comments. This will be for a simple Blazor Server app for demonstration purposes.\n1. Setting up your Environment\nCreate a New Blazor Server Project: In Visual Studio or using the .NET CLI: dotnet new blazorserver -o MyRAGApp cd MyRAGApp Install NuGet Packages: dotnet add package Microsoft.SemanticKernel dotnet add package Microsoft.SemanticKernel.Connectors.Memory.Qdrant dotnet add package Microsoft.SemanticKernel.Connectors.OpenAI (Choose Qdrant or a memory connector of your preference) Make sure you have System.Text.Json package included as well. 2. Configure App Settings (appsettings.json)\n{ \"Logging\": { \"LogLevel\": { \"Default\": \"Information\", \"Microsoft.AspNetCore\": \"Warning\" } }, \"AllowedHosts\": \"*\", \"SemanticKernel\": { \"OpenAI\": { \"ApiKey\": \"YOUR_OPENAI_API_KEY\", \"OrgId\": \"YOUR_OPTIONAL_OPENAI_ORG_ID\", \"ModelId\": \"gpt-3.5-turbo\", \"EmbeddingModelId\": \"text-embedding-ada-002\" }, \"Qdrant\":{ \"Endpoint\":\"http://localhost:6333\", \"VectorSize\":1536, \"CollectionName\":\"ragcollection\" } } } Replace the placeholder with the api key of your preferred LLM API, e.g., OpenAI. Make sure you also replace the placeholder with the correct values of your memory vector database. 3. Create Data Loader (optional)\nFor simplicity, let’s assume you have a simple text file of data to be indexed, say knowledge_base.txt. Create a DataLoader service (Services/DataLoader.cs): using System.Text; using Microsoft.SemanticKernel.Memory; using Microsoft.Extensions.Options; using Microsoft.SemanticKernel; using Microsoft.SemanticKernel.Embeddings; using Microsoft.SemanticKernel.Connectors.Memory.Qdrant; namespace MyRAGApp.Services { public class DataLoader { private readonly IOptions\u003cSemanticKernelOptions\u003e _options; private readonly ILogger\u003cDataLoader\u003e _logger; private readonly ITextEmbeddingGeneration _textEmbeddingGeneration; public DataLoader( IOptions\u003cSemanticKernelOptions\u003e options, ILogger\u003cDataLoader\u003e logger, ITextEmbeddingGeneration textEmbeddingGeneration ) { _options = options; _logger = logger; _textEmbeddingGeneration = textEmbeddingGeneration; } public async Task LoadKnowledge(string filePath, IKernel kernel) { try { // Read content from text file var content = await File.ReadAllTextAsync(filePath, Encoding.UTF8); var lines = content.Split(Environment.NewLine, StringSplitOptions.RemoveEmptyEntries); var memoryStore = GetMemoryStore(); if(memoryStore != null) { foreach (var line in lines) { var id = Guid.NewGuid().ToString(); await kernel.Memory.SaveInformationAsync(_options.Value.Qdrant.CollectionName, line, id, line, null, _textEmbeddingGeneration); } _logger.LogInformation(\"Knowledge base loaded successfully\"); } else { _logger.LogError(\"Memory store is null. Cannot load the knowledge base\"); } } catch (Exception ex) { _logger.LogError($\"Error reading or loading data: {ex.Message}\"); } } private ISemanticTextMemory? GetMemoryStore() { if (_options.Value.Qdrant is not null) { return new QdrantMemoryStore( _options.Value.Qdrant.Endpoint, _options.Value.Qdrant.VectorSize ); } return null; } } } Add the corresponding SemanticKernelOptions class: using System.ComponentModel.DataAnnotations; namespace MyRAGApp { public class SemanticKernelOptions { [Required] public OpenAIConfig? OpenAI { get; set; } public QdrantConfig? Qdrant { get; set; } } public class OpenAIConfig { [Required] public string? ApiKey { get; set; } public string? OrgId { get; set; } [Required] public string? ModelId { get; set; } [Required] public string? EmbeddingModelId { get; set; } } public class QdrantConfig { [Required] public string? Endpoint { get; set; } [Required] public int? VectorSize { get; set; } [Required] public string? CollectionName { get; set; } } } Make sure to add your knowledge base content in the knowledge_base.txt in the wwwroot/ directory or other preferred location. 4. Kernel Setup\nCreate a Kernel service (Services/KernelService.cs): using Microsoft.SemanticKernel; using Microsoft.SemanticKernel.Connectors.OpenAI; using Microsoft.Extensions.Options; using Microsoft.SemanticKernel.Memory; using Microsoft.SemanticKernel.Embeddings; using Microsoft.SemanticKernel.Connectors.Memory.Qdrant; namespace MyRAGApp.Services { public class KernelService { private readonly IOptions\u003cSemanticKernelOptions\u003e _options; private readonly ILogger\u003cKernelService\u003e _logger; public KernelService(IOptions\u003cSemanticKernelOptions\u003e options, ILogger\u003cKernelService\u003e logger) { _options = options; _logger = logger; } public IKernel GetKernel() { try { var builder = Kernel.Builder; var apiKey = _options.Value.OpenAI?.ApiKey; var orgId = _options.Value.OpenAI?.OrgId; var modelId = _options.Value.OpenAI?.ModelId; var embeddingModelId = _options.Value.OpenAI?.EmbeddingModelId; if (string.IsNullOrEmpty(apiKey) || string.IsNullOrEmpty(modelId) || string.IsNullOrEmpty(embeddingModelId)) { _logger.LogError(\"OpenAI API settings are not correctly configured.\"); return null; } builder.AddAzureOpenAIChatCompletion(modelId, apiKey,orgId); builder.AddAzureOpenAITextEmbeddingGeneration(embeddingModelId, apiKey, orgId); builder.Services.AddTransient((sp) =\u003e GetMemoryStore()); return builder.Build(); } catch (Exception ex) { _logger.LogError($\"Error creating Kernel: {ex.Message}\"); return null; } } private ISemanticTextMemory? GetMemoryStore() { if (_options.Value.Qdrant is not null) { return new QdrantMemoryStore( _options.Value.Qdrant.Endpoint, _options.Value.Qdrant.VectorSize ); } return null; } } } 5. Register Services in Program.cs\nusing MyRAGApp; using MyRAGApp.Services; var builder = WebApplication.CreateBuilder(args); builder.Services.Configure\u003cSemanticKernelOptions\u003e(builder.Configuration.GetSection(\"SemanticKernel\")); // Add services to the container. builder.Services.AddRazorPages(); builder.Services.AddServerSideBlazor(); builder.Services.AddSingleton\u003cKernelService\u003e(); builder.Services.AddSingleton\u003cDataLoader\u003e(); var app = builder.Build(); // Configure the HTTP request pipeline. if (!app.Environment.IsDevelopment()) { app.UseExceptionHandler(\"/Error\"); app.UseHsts(); } app.UseHttpsRedirection(); app.UseStaticFiles(); app.UseRouting(); app.MapBlazorHub(); app.MapFallbackToPage(\"/_Host\"); using (var scope = app.Services.CreateScope()) { var dataLoader = scope.ServiceProvider.GetRequiredService\u003cDataLoader\u003e(); var kernelService = scope.ServiceProvider.GetRequiredService\u003cKernelService\u003e(); var kernel = kernelService.GetKernel(); var filePath = Path.Combine(app.Environment.WebRootPath, \"knowledge_base.txt\"); if (kernel is not null) { await dataLoader.LoadKnowledge(filePath, kernel); } } app.Run(); 6. Blazor UI\nModify Pages/Index.razor: @page \"/\"\r@using MyRAGApp.Services\r@inject KernelService KernelService\r@inject ILogger Logger\r@inject DataLoader DataLoader\rRAG with Semantic Kernel\rAsk\r@if (!string.IsNullOrEmpty(Response))\r{\r@Response\r}\r@code {\rprivate string UserQuestion { get; set; } = string.Empty;\rprivate string Response { get; set; } = string.Empty;\rprivate async Task AskQuestion()\r{\rif (string.IsNullOrEmpty(UserQuestion)) return;\rvar kernel = KernelService.GetKernel();\rif (kernel is null)\r{\rLogger.LogError(\"Kernel was not properly initialized\");\rResponse = \"Error initializing the kernel.\";\rreturn;\r}\rtry\r{\rvar result = await kernel.Memory.SearchAsync(\"ragcollection\", UserQuestion, limit:1, minRelevanceScore:0.7);\rvar context = result.FirstOrDefault()?.Text;\rif(context != null)\r{\rvar prompt = @$\"You are an AI assistant. Use the provided context to answer the question. If the context is not relevant for the answer, say you don't know. Context:\r{context}\rQuestion: {UserQuestion}\r\";\rvar promptTemplateFactory = new Microsoft.SemanticKernel.PromptTemplate.PromptTemplateFactory();\rvar promptTemplate = promptTemplateFactory.Create(prompt);\rvar chatFunction = kernel.CreateSemanticFunction(promptTemplate);\rvar answer = await kernel.RunAsync(new KernelArguments(), chatFunction);\rResponse = answer.ToString();\r} else\r{\rResponse = \"No relevant knowledge found. Please ask a question related to the content of knowledge base file\";\r}\r}\rcatch (Exception ex)\r{\rLogger.LogError($\"Error processing question: {ex.Message}\");\rResponse = $\"An error occurred: {ex.Message}\";\r}\r}\r} Explanation:\nDependency Injection: We inject KernelService and DataLoader to use them in the page. UI Elements: A text input (UserQuestion) for the user to type their question. A button to trigger the question processing. A div (Response) to display the result. AskQuestion Method: Gets the kernel from the KernelService. Uses Semantic Kernel’s memory to search for relevant data. Constructs an advanced prompt with retrieved context. Uses Semantic Kernel to run an LLM completion and get the response. Updates the Response variable, which triggers a UI update. How to Run\nMake sure that your Qdrant instance is running. Set your API keys in appsettings.json. Add your knowledge base content in the knowledge_base.txt file. Build and run your project (dotnet run). Navigate to the application in your browser (https://localhost:7085 by default). Type your question in the input and hit “Ask.” Important Considerations\nError Handling: Implement better error handling and logging throughout your application. Memory Store Selection: Explore other vector databases or memory stores (like Azure Cognitive Search). Qdrant is a good starting point. Prompt Engineering: Fine-tune your prompts to get the best results. Performance: Vector search and LLM completions can be slow. Optimize based on your application’s needs. Security: Be mindful of storing your API keys securely. Use environment variables or secrets management. Let me know if you would like to dive deeper into specific parts of this process, like more advanced prompt engineering or using a different memory store. I’m here to help you get your RAG application working!\n","wordCount":"1359","inLanguage":"en","image":"http://localhost:1313/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E","datePublished":"2025-03-15T11:22:29-04:00","dateModified":"2025-03-15T11:22:29-04:00","author":{"@type":"Person","name":"Me"},"mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:1313/posts/semantickernelrag/"},"publisher":{"@type":"Organization","name":"Sridhar quick notes","logo":{"@type":"ImageObject","url":"http://localhost:1313/%3Clink%20/%20abs%20url%3E"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=http://localhost:1313/ accesskey=h title="Home (Alt + H)"><img src=http://localhost:1313/apple-touch-icon.png alt aria-label=logo height=35>Home</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=http://localhost:1313/categories/ title=categories><span>categories</span></a></li><li><a href=http://localhost:1313/tags/ title=tags><span>tags</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=http://localhost:1313/>Home</a>&nbsp;»&nbsp;<a href=http://localhost:1313/posts/>Posts</a></div><h1 class="post-title entry-hint-parent">SemanticKernelRag</h1><div class=post-meta><span title='2025-03-15 11:22:29 -0400 EDT'>March 15, 2025</span>&nbsp;·&nbsp;7 min&nbsp;·&nbsp;1359 words&nbsp;·&nbsp;Me&nbsp;|&nbsp;<a href=https://github.com/ssathya/hugo-static-app/blob/main/content/posts/SemanticKernelRag.md rel="noopener noreferrer" target=_blank>Suggest Changes</a></div></header><div class=post-content><p>Okay, let&rsquo;s break down how to use Semantic Kernel with Retrieval Augmented Generation (RAG) in a Blazor application. It can be a bit tricky to get all the pieces working together, so we&rsquo;ll go step by step.</p><p><strong>Understanding the Core Concepts</strong></p><ol><li><strong>Semantic Kernel:</strong> This is a framework that helps you build intelligent applications by integrating Large Language Models (LLMs) like OpenAI, Azure OpenAI, etc. It provides abstractions for things like plugins, memory, and planners.</li><li><strong>RAG (Retrieval Augmented Generation):</strong> This approach improves LLM responses by first retrieving relevant information from a data source (like a vector database) and then using that information as context when generating the final output. This helps the LLM ground its responses in factual data and reduce hallucinations.</li><li><strong>Blazor:</strong> This is a framework for building interactive web UIs with C# instead of JavaScript. We&rsquo;ll use it to create the front-end for your RAG-powered application.</li></ol><p><strong>High-Level Steps</strong></p><p>Here&rsquo;s a general outline of what we&rsquo;ll need to do:</p><ol><li><strong>Set up your environment:</strong> Install the necessary NuGet packages and configure your API keys.</li><li><strong>Prepare your data source:</strong> Choose a vector database (or similar) and index your data.</li><li><strong>Create Semantic Kernel components:</strong> Build your skills (plugins), memory, and kernel.</li><li><strong>Develop your Blazor UI:</strong> Create a simple interface for users to ask questions.</li><li><strong>Connect Semantic Kernel with Blazor:</strong> Send user input to the kernel, get the RAG-enhanced response, and display it in the UI.</li></ol><p><strong>Let&rsquo;s Get Started with the Code</strong></p><p>I&rsquo;ll provide code snippets with explanations and comments. This will be for a simple Blazor Server app for demonstration purposes.</p><p><strong>1. Setting up your Environment</strong></p><ul><li><strong>Create a New Blazor Server Project:</strong><ul><li>In Visual Studio or using the .NET CLI:<div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>dotnet new blazorserver -o MyRAGApp
</span></span><span class=line><span class=cl><span class=nb>cd</span> MyRAGApp
</span></span></code></pre></div></li></ul></li><li><strong>Install NuGet Packages:</strong><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>dotnet add package Microsoft.SemanticKernel
</span></span><span class=line><span class=cl>dotnet add package Microsoft.SemanticKernel.Connectors.Memory.Qdrant
</span></span><span class=line><span class=cl>dotnet add package Microsoft.SemanticKernel.Connectors.OpenAI
</span></span></code></pre></div>(Choose <code>Qdrant</code> or a memory connector of your preference)<ul><li>Make sure you have <code>System.Text.Json</code> package included as well.</li></ul></li></ul><p><strong>2. Configure App Settings (appsettings.json)</strong></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;Logging&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;LogLevel&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;Default&#34;</span><span class=p>:</span> <span class=s2>&#34;Information&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;Microsoft.AspNetCore&#34;</span><span class=p>:</span> <span class=s2>&#34;Warning&#34;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;AllowedHosts&#34;</span><span class=p>:</span> <span class=s2>&#34;*&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;SemanticKernel&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;OpenAI&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;ApiKey&#34;</span><span class=p>:</span> <span class=s2>&#34;YOUR_OPENAI_API_KEY&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;OrgId&#34;</span><span class=p>:</span> <span class=s2>&#34;YOUR_OPTIONAL_OPENAI_ORG_ID&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;ModelId&#34;</span><span class=p>:</span> <span class=s2>&#34;gpt-3.5-turbo&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;EmbeddingModelId&#34;</span><span class=p>:</span> <span class=s2>&#34;text-embedding-ada-002&#34;</span>
</span></span><span class=line><span class=cl>        <span class=p>},</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;Qdrant&#34;</span><span class=p>:{</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;Endpoint&#34;</span><span class=p>:</span><span class=s2>&#34;http://localhost:6333&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;VectorSize&#34;</span><span class=p>:</span><span class=mi>1536</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;CollectionName&#34;</span><span class=p>:</span><span class=s2>&#34;ragcollection&#34;</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><ul><li>Replace the placeholder with the api key of your preferred LLM API, e.g., OpenAI. Make sure you also replace the placeholder with the correct values of your memory vector database.</li></ul><p><strong>3. Create Data Loader (optional)</strong></p><ul><li>For simplicity, let&rsquo;s assume you have a simple text file of data to be indexed, say <code>knowledge_base.txt</code>.</li><li><strong>Create a DataLoader service (<code>Services/DataLoader.cs</code>):</strong></li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=k>using</span> <span class=nn>System.Text</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>using</span> <span class=nn>Microsoft.SemanticKernel.Memory</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>using</span> <span class=nn>Microsoft.Extensions.Options</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>using</span> <span class=nn>Microsoft.SemanticKernel</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>using</span> <span class=nn>Microsoft.SemanticKernel.Embeddings</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>using</span> <span class=nn>Microsoft.SemanticKernel.Connectors.Memory.Qdrant</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>namespace</span> <span class=nn>MyRAGApp.Services</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=k>class</span> <span class=nc>DataLoader</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=kd>private</span> <span class=k>readonly</span> <span class=n>IOptions</span><span class=p>&lt;</span><span class=n>SemanticKernelOptions</span><span class=p>&gt;</span> <span class=n>_options</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=kd>private</span> <span class=k>readonly</span> <span class=n>ILogger</span><span class=p>&lt;</span><span class=n>DataLoader</span><span class=p>&gt;</span> <span class=n>_logger</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=kd>private</span> <span class=k>readonly</span> <span class=n>ITextEmbeddingGeneration</span> <span class=n>_textEmbeddingGeneration</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=kd>public</span> <span class=n>DataLoader</span><span class=p>(</span>
</span></span><span class=line><span class=cl>            <span class=n>IOptions</span><span class=p>&lt;</span><span class=n>SemanticKernelOptions</span><span class=p>&gt;</span> <span class=n>options</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=n>ILogger</span><span class=p>&lt;</span><span class=n>DataLoader</span><span class=p>&gt;</span> <span class=n>logger</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=n>ITextEmbeddingGeneration</span> <span class=n>textEmbeddingGeneration</span>
</span></span><span class=line><span class=cl>        <span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=n>_options</span> <span class=p>=</span> <span class=n>options</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=n>_logger</span> <span class=p>=</span> <span class=n>logger</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=n>_textEmbeddingGeneration</span> <span class=p>=</span> <span class=n>textEmbeddingGeneration</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=kd>public</span> <span class=kd>async</span> <span class=n>Task</span> <span class=n>LoadKnowledge</span><span class=p>(</span><span class=kt>string</span> <span class=n>filePath</span><span class=p>,</span> <span class=n>IKernel</span> <span class=n>kernel</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=k>try</span>
</span></span><span class=line><span class=cl>            <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=c1>// Read content from text file</span>
</span></span><span class=line><span class=cl>                <span class=kt>var</span> <span class=n>content</span> <span class=p>=</span> <span class=k>await</span> <span class=n>File</span><span class=p>.</span><span class=n>ReadAllTextAsync</span><span class=p>(</span><span class=n>filePath</span><span class=p>,</span> <span class=n>Encoding</span><span class=p>.</span><span class=n>UTF8</span><span class=p>);</span>
</span></span><span class=line><span class=cl>                <span class=kt>var</span> <span class=n>lines</span> <span class=p>=</span> <span class=n>content</span><span class=p>.</span><span class=n>Split</span><span class=p>(</span><span class=n>Environment</span><span class=p>.</span><span class=n>NewLine</span><span class=p>,</span> <span class=n>StringSplitOptions</span><span class=p>.</span><span class=n>RemoveEmptyEntries</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>                <span class=kt>var</span> <span class=n>memoryStore</span> <span class=p>=</span> <span class=n>GetMemoryStore</span><span class=p>();</span>
</span></span><span class=line><span class=cl>                <span class=k>if</span><span class=p>(</span><span class=n>memoryStore</span> <span class=p>!=</span> <span class=kc>null</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                <span class=p>{</span>
</span></span><span class=line><span class=cl>                    <span class=k>foreach</span> <span class=p>(</span><span class=kt>var</span> <span class=n>line</span> <span class=k>in</span> <span class=n>lines</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                    <span class=p>{</span>
</span></span><span class=line><span class=cl>                        <span class=kt>var</span> <span class=n>id</span> <span class=p>=</span> <span class=n>Guid</span><span class=p>.</span><span class=n>NewGuid</span><span class=p>().</span><span class=n>ToString</span><span class=p>();</span>
</span></span><span class=line><span class=cl>                        <span class=k>await</span> <span class=n>kernel</span><span class=p>.</span><span class=n>Memory</span><span class=p>.</span><span class=n>SaveInformationAsync</span><span class=p>(</span><span class=n>_options</span><span class=p>.</span><span class=n>Value</span><span class=p>.</span><span class=n>Qdrant</span><span class=p>.</span><span class=n>CollectionName</span><span class=p>,</span> <span class=n>line</span><span class=p>,</span> <span class=n>id</span><span class=p>,</span> <span class=n>line</span><span class=p>,</span> <span class=kc>null</span><span class=p>,</span> <span class=n>_textEmbeddingGeneration</span><span class=p>);</span>
</span></span><span class=line><span class=cl>                    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>                    <span class=n>_logger</span><span class=p>.</span><span class=n>LogInformation</span><span class=p>(</span><span class=s>&#34;Knowledge base loaded successfully&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>                <span class=p>}</span> <span class=k>else</span>
</span></span><span class=line><span class=cl>                <span class=p>{</span>
</span></span><span class=line><span class=cl>                    <span class=n>_logger</span><span class=p>.</span><span class=n>LogError</span><span class=p>(</span><span class=s>&#34;Memory store is null. Cannot load the knowledge base&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>                <span class=p>}</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>            <span class=k>catch</span> <span class=p>(</span><span class=n>Exception</span> <span class=n>ex</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=n>_logger</span><span class=p>.</span><span class=n>LogError</span><span class=p>(</span><span class=s>$&#34;Error reading or loading data: {ex.Message}&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=kd>private</span> <span class=n>ISemanticTextMemory</span><span class=p>?</span> <span class=n>GetMemoryStore</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=p>(</span><span class=n>_options</span><span class=p>.</span><span class=n>Value</span><span class=p>.</span><span class=n>Qdrant</span> <span class=k>is</span> <span class=n>not</span> <span class=kc>null</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=k>return</span> <span class=k>new</span> <span class=n>QdrantMemoryStore</span><span class=p>(</span>
</span></span><span class=line><span class=cl>                    <span class=n>_options</span><span class=p>.</span><span class=n>Value</span><span class=p>.</span><span class=n>Qdrant</span><span class=p>.</span><span class=n>Endpoint</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                    <span class=n>_options</span><span class=p>.</span><span class=n>Value</span><span class=p>.</span><span class=n>Qdrant</span><span class=p>.</span><span class=n>VectorSize</span>
</span></span><span class=line><span class=cl>                <span class=p>);</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=kc>null</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><ul><li>Add the corresponding SemanticKernelOptions class:</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=k>using</span> <span class=nn>System.ComponentModel.DataAnnotations</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>namespace</span> <span class=nn>MyRAGApp</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=k>class</span> <span class=nc>SemanticKernelOptions</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl><span class=na>        [Required]</span>
</span></span><span class=line><span class=cl>        <span class=kd>public</span> <span class=n>OpenAIConfig</span><span class=p>?</span> <span class=n>OpenAI</span> <span class=p>{</span> <span class=k>get</span><span class=p>;</span> <span class=k>set</span><span class=p>;</span> <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=kd>public</span> <span class=n>QdrantConfig</span><span class=p>?</span> <span class=n>Qdrant</span> <span class=p>{</span> <span class=k>get</span><span class=p>;</span> <span class=k>set</span><span class=p>;</span> <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=k>class</span> <span class=nc>OpenAIConfig</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl><span class=na>        [Required]</span>
</span></span><span class=line><span class=cl>        <span class=kd>public</span> <span class=kt>string?</span> <span class=n>ApiKey</span> <span class=p>{</span> <span class=k>get</span><span class=p>;</span> <span class=k>set</span><span class=p>;</span> <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=kd>public</span> <span class=kt>string?</span> <span class=n>OrgId</span> <span class=p>{</span> <span class=k>get</span><span class=p>;</span> <span class=k>set</span><span class=p>;</span> <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=na>
</span></span></span><span class=line><span class=cl><span class=na>        [Required]</span>
</span></span><span class=line><span class=cl>        <span class=kd>public</span> <span class=kt>string?</span> <span class=n>ModelId</span> <span class=p>{</span> <span class=k>get</span><span class=p>;</span> <span class=k>set</span><span class=p>;</span> <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=na>        [Required]</span>
</span></span><span class=line><span class=cl>        <span class=kd>public</span> <span class=kt>string?</span> <span class=n>EmbeddingModelId</span> <span class=p>{</span> <span class=k>get</span><span class=p>;</span> <span class=k>set</span><span class=p>;</span> <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=k>class</span> <span class=nc>QdrantConfig</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl><span class=na>        [Required]</span>
</span></span><span class=line><span class=cl>        <span class=kd>public</span> <span class=kt>string?</span> <span class=n>Endpoint</span> <span class=p>{</span> <span class=k>get</span><span class=p>;</span> <span class=k>set</span><span class=p>;</span> <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=na>        [Required]</span>
</span></span><span class=line><span class=cl>        <span class=kd>public</span> <span class=kt>int?</span> <span class=n>VectorSize</span> <span class=p>{</span> <span class=k>get</span><span class=p>;</span> <span class=k>set</span><span class=p>;</span> <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=na>        [Required]</span>
</span></span><span class=line><span class=cl>        <span class=kd>public</span> <span class=kt>string?</span> <span class=n>CollectionName</span> <span class=p>{</span> <span class=k>get</span><span class=p>;</span> <span class=k>set</span><span class=p>;</span> <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><ul><li>Make sure to add your knowledge base content in the <code>knowledge_base.txt</code> in the <code>wwwroot/</code> directory or other preferred location.</li></ul><p><strong>4. Kernel Setup</strong></p><ul><li><strong>Create a Kernel service (<code>Services/KernelService.cs</code>):</strong></li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=k>using</span> <span class=nn>Microsoft.SemanticKernel</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>using</span> <span class=nn>Microsoft.SemanticKernel.Connectors.OpenAI</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>using</span> <span class=nn>Microsoft.Extensions.Options</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>using</span> <span class=nn>Microsoft.SemanticKernel.Memory</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>using</span> <span class=nn>Microsoft.SemanticKernel.Embeddings</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>using</span> <span class=nn>Microsoft.SemanticKernel.Connectors.Memory.Qdrant</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>namespace</span> <span class=nn>MyRAGApp.Services</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=k>class</span> <span class=nc>KernelService</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=kd>private</span> <span class=k>readonly</span> <span class=n>IOptions</span><span class=p>&lt;</span><span class=n>SemanticKernelOptions</span><span class=p>&gt;</span> <span class=n>_options</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=kd>private</span> <span class=k>readonly</span> <span class=n>ILogger</span><span class=p>&lt;</span><span class=n>KernelService</span><span class=p>&gt;</span> <span class=n>_logger</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=kd>public</span> <span class=n>KernelService</span><span class=p>(</span><span class=n>IOptions</span><span class=p>&lt;</span><span class=n>SemanticKernelOptions</span><span class=p>&gt;</span> <span class=n>options</span><span class=p>,</span> <span class=n>ILogger</span><span class=p>&lt;</span><span class=n>KernelService</span><span class=p>&gt;</span> <span class=n>logger</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=n>_options</span> <span class=p>=</span> <span class=n>options</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=n>_logger</span> <span class=p>=</span> <span class=n>logger</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=kd>public</span> <span class=n>IKernel</span> <span class=n>GetKernel</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=k>try</span>
</span></span><span class=line><span class=cl>            <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=kt>var</span> <span class=n>builder</span> <span class=p>=</span> <span class=n>Kernel</span><span class=p>.</span><span class=n>Builder</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>                <span class=kt>var</span> <span class=n>apiKey</span> <span class=p>=</span> <span class=n>_options</span><span class=p>.</span><span class=n>Value</span><span class=p>.</span><span class=n>OpenAI</span><span class=p>?.</span><span class=n>ApiKey</span><span class=p>;</span>
</span></span><span class=line><span class=cl>                <span class=kt>var</span> <span class=n>orgId</span> <span class=p>=</span> <span class=n>_options</span><span class=p>.</span><span class=n>Value</span><span class=p>.</span><span class=n>OpenAI</span><span class=p>?.</span><span class=n>OrgId</span><span class=p>;</span>
</span></span><span class=line><span class=cl>                <span class=kt>var</span> <span class=n>modelId</span> <span class=p>=</span> <span class=n>_options</span><span class=p>.</span><span class=n>Value</span><span class=p>.</span><span class=n>OpenAI</span><span class=p>?.</span><span class=n>ModelId</span><span class=p>;</span>
</span></span><span class=line><span class=cl>                <span class=kt>var</span> <span class=n>embeddingModelId</span> <span class=p>=</span> <span class=n>_options</span><span class=p>.</span><span class=n>Value</span><span class=p>.</span><span class=n>OpenAI</span><span class=p>?.</span><span class=n>EmbeddingModelId</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>                <span class=k>if</span> <span class=p>(</span><span class=kt>string</span><span class=p>.</span><span class=n>IsNullOrEmpty</span><span class=p>(</span><span class=n>apiKey</span><span class=p>)</span> <span class=p>||</span> <span class=kt>string</span><span class=p>.</span><span class=n>IsNullOrEmpty</span><span class=p>(</span><span class=n>modelId</span><span class=p>)</span> <span class=p>||</span> <span class=kt>string</span><span class=p>.</span><span class=n>IsNullOrEmpty</span><span class=p>(</span><span class=n>embeddingModelId</span><span class=p>))</span>
</span></span><span class=line><span class=cl>                <span class=p>{</span>
</span></span><span class=line><span class=cl>                    <span class=n>_logger</span><span class=p>.</span><span class=n>LogError</span><span class=p>(</span><span class=s>&#34;OpenAI API settings are not correctly configured.&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>                    <span class=k>return</span> <span class=kc>null</span><span class=p>;</span>
</span></span><span class=line><span class=cl>                <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>                <span class=n>builder</span><span class=p>.</span><span class=n>AddAzureOpenAIChatCompletion</span><span class=p>(</span><span class=n>modelId</span><span class=p>,</span> <span class=n>apiKey</span><span class=p>,</span><span class=n>orgId</span><span class=p>);</span>
</span></span><span class=line><span class=cl>                <span class=n>builder</span><span class=p>.</span><span class=n>AddAzureOpenAITextEmbeddingGeneration</span><span class=p>(</span><span class=n>embeddingModelId</span><span class=p>,</span> <span class=n>apiKey</span><span class=p>,</span> <span class=n>orgId</span><span class=p>);</span>
</span></span><span class=line><span class=cl>                <span class=n>builder</span><span class=p>.</span><span class=n>Services</span><span class=p>.</span><span class=n>AddTransient</span><span class=p>((</span><span class=n>sp</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=n>GetMemoryStore</span><span class=p>());</span>
</span></span><span class=line><span class=cl>                <span class=k>return</span> <span class=n>builder</span><span class=p>.</span><span class=n>Build</span><span class=p>();</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>            <span class=k>catch</span> <span class=p>(</span><span class=n>Exception</span> <span class=n>ex</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=n>_logger</span><span class=p>.</span><span class=n>LogError</span><span class=p>(</span><span class=s>$&#34;Error creating Kernel: {ex.Message}&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>                <span class=k>return</span> <span class=kc>null</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=kd>private</span> <span class=n>ISemanticTextMemory</span><span class=p>?</span> <span class=n>GetMemoryStore</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=p>(</span><span class=n>_options</span><span class=p>.</span><span class=n>Value</span><span class=p>.</span><span class=n>Qdrant</span> <span class=k>is</span> <span class=n>not</span> <span class=kc>null</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=k>return</span> <span class=k>new</span> <span class=n>QdrantMemoryStore</span><span class=p>(</span>
</span></span><span class=line><span class=cl>                    <span class=n>_options</span><span class=p>.</span><span class=n>Value</span><span class=p>.</span><span class=n>Qdrant</span><span class=p>.</span><span class=n>Endpoint</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                    <span class=n>_options</span><span class=p>.</span><span class=n>Value</span><span class=p>.</span><span class=n>Qdrant</span><span class=p>.</span><span class=n>VectorSize</span>
</span></span><span class=line><span class=cl>                <span class=p>);</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=kc>null</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p><strong>5. Register Services in <code>Program.cs</code></strong></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=k>using</span> <span class=nn>MyRAGApp</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>using</span> <span class=nn>MyRAGApp.Services</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>var</span> <span class=n>builder</span> <span class=p>=</span> <span class=n>WebApplication</span><span class=p>.</span><span class=n>CreateBuilder</span><span class=p>(</span><span class=n>args</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>builder</span><span class=p>.</span><span class=n>Services</span><span class=p>.</span><span class=n>Configure</span><span class=p>&lt;</span><span class=n>SemanticKernelOptions</span><span class=p>&gt;(</span><span class=n>builder</span><span class=p>.</span><span class=n>Configuration</span><span class=p>.</span><span class=n>GetSection</span><span class=p>(</span><span class=s>&#34;SemanticKernel&#34;</span><span class=p>));</span>
</span></span><span class=line><span class=cl><span class=c1>// Add services to the container.</span>
</span></span><span class=line><span class=cl><span class=n>builder</span><span class=p>.</span><span class=n>Services</span><span class=p>.</span><span class=n>AddRazorPages</span><span class=p>();</span>
</span></span><span class=line><span class=cl><span class=n>builder</span><span class=p>.</span><span class=n>Services</span><span class=p>.</span><span class=n>AddServerSideBlazor</span><span class=p>();</span>
</span></span><span class=line><span class=cl><span class=n>builder</span><span class=p>.</span><span class=n>Services</span><span class=p>.</span><span class=n>AddSingleton</span><span class=p>&lt;</span><span class=n>KernelService</span><span class=p>&gt;();</span>
</span></span><span class=line><span class=cl><span class=n>builder</span><span class=p>.</span><span class=n>Services</span><span class=p>.</span><span class=n>AddSingleton</span><span class=p>&lt;</span><span class=n>DataLoader</span><span class=p>&gt;();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>var</span> <span class=n>app</span> <span class=p>=</span> <span class=n>builder</span><span class=p>.</span><span class=n>Build</span><span class=p>();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Configure the HTTP request pipeline.</span>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=p>(!</span><span class=n>app</span><span class=p>.</span><span class=n>Environment</span><span class=p>.</span><span class=n>IsDevelopment</span><span class=p>())</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>app</span><span class=p>.</span><span class=n>UseExceptionHandler</span><span class=p>(</span><span class=s>&#34;/Error&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=n>app</span><span class=p>.</span><span class=n>UseHsts</span><span class=p>();</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>app</span><span class=p>.</span><span class=n>UseHttpsRedirection</span><span class=p>();</span>
</span></span><span class=line><span class=cl><span class=n>app</span><span class=p>.</span><span class=n>UseStaticFiles</span><span class=p>();</span>
</span></span><span class=line><span class=cl><span class=n>app</span><span class=p>.</span><span class=n>UseRouting</span><span class=p>();</span>
</span></span><span class=line><span class=cl><span class=n>app</span><span class=p>.</span><span class=n>MapBlazorHub</span><span class=p>();</span>
</span></span><span class=line><span class=cl><span class=n>app</span><span class=p>.</span><span class=n>MapFallbackToPage</span><span class=p>(</span><span class=s>&#34;/_Host&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>using</span> <span class=p>(</span><span class=kt>var</span> <span class=n>scope</span> <span class=p>=</span> <span class=n>app</span><span class=p>.</span><span class=n>Services</span><span class=p>.</span><span class=n>CreateScope</span><span class=p>())</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kt>var</span> <span class=n>dataLoader</span> <span class=p>=</span> <span class=n>scope</span><span class=p>.</span><span class=n>ServiceProvider</span><span class=p>.</span><span class=n>GetRequiredService</span><span class=p>&lt;</span><span class=n>DataLoader</span><span class=p>&gt;();</span>
</span></span><span class=line><span class=cl>    <span class=kt>var</span> <span class=n>kernelService</span> <span class=p>=</span> <span class=n>scope</span><span class=p>.</span><span class=n>ServiceProvider</span><span class=p>.</span><span class=n>GetRequiredService</span><span class=p>&lt;</span><span class=n>KernelService</span><span class=p>&gt;();</span>
</span></span><span class=line><span class=cl>    <span class=kt>var</span> <span class=n>kernel</span> <span class=p>=</span> <span class=n>kernelService</span><span class=p>.</span><span class=n>GetKernel</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=kt>var</span> <span class=n>filePath</span> <span class=p>=</span> <span class=n>Path</span><span class=p>.</span><span class=n>Combine</span><span class=p>(</span><span class=n>app</span><span class=p>.</span><span class=n>Environment</span><span class=p>.</span><span class=n>WebRootPath</span><span class=p>,</span> <span class=s>&#34;knowledge_base.txt&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=p>(</span><span class=n>kernel</span> <span class=k>is</span> <span class=n>not</span> <span class=kc>null</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>await</span> <span class=n>dataLoader</span><span class=p>.</span><span class=n>LoadKnowledge</span><span class=p>(</span><span class=n>filePath</span><span class=p>,</span> <span class=n>kernel</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>app</span><span class=p>.</span><span class=n>Run</span><span class=p>();</span>
</span></span></code></pre></div><p><strong>6. Blazor UI</strong></p><ul><li><strong>Modify <code>Pages/Index.razor</code>:</strong></li></ul><pre tabindex=0><code class=language-razor data-lang=razor>@page &#34;/&#34;
@using MyRAGApp.Services
@inject KernelService KernelService
@inject ILogger&lt;Index&gt; Logger
@inject DataLoader DataLoader

&lt;h1&gt;RAG with Semantic Kernel&lt;/h1&gt;

&lt;div class=&#34;input-group mb-3&#34;&gt;
    &lt;input type=&#34;text&#34; class=&#34;form-control&#34; placeholder=&#34;Ask a question&#34; @bind=&#34;UserQuestion&#34; /&gt;
    &lt;button class=&#34;btn btn-primary&#34; @onclick=&#34;AskQuestion&#34;&gt;Ask&lt;/button&gt;
&lt;/div&gt;

@if (!string.IsNullOrEmpty(Response))
{
    &lt;div class=&#34;alert alert-secondary&#34;&gt;
        @Response
    &lt;/div&gt;
}

@code {
    private string UserQuestion { get; set; } = string.Empty;
    private string Response { get; set; } = string.Empty;

    private async Task AskQuestion()
    {
        if (string.IsNullOrEmpty(UserQuestion)) return;

         var kernel = KernelService.GetKernel();

        if (kernel is null)
        {
            Logger.LogError(&#34;Kernel was not properly initialized&#34;);
            Response = &#34;Error initializing the kernel.&#34;;
            return;
        }

        try
        {
           var result = await kernel.Memory.SearchAsync(&#34;ragcollection&#34;, UserQuestion, limit:1, minRelevanceScore:0.7);

             var context = result.FirstOrDefault()?.Text;

             if(context != null)
            {
                var prompt = @$&#34;You are an AI assistant. Use the provided context to answer the question. If the context is not relevant for the answer, say you don&#39;t know. 

                    Context:
                    {context}

                    Question: {UserQuestion}
                &#34;;

                var promptTemplateFactory = new Microsoft.SemanticKernel.PromptTemplate.PromptTemplateFactory();
                var promptTemplate = promptTemplateFactory.Create(prompt);

                var chatFunction = kernel.CreateSemanticFunction(promptTemplate);
                var answer = await kernel.RunAsync(new KernelArguments(), chatFunction);

                Response = answer.ToString();
            } else
             {
                Response = &#34;No relevant knowledge found. Please ask a question related to the content of knowledge base file&#34;;
             }
            

        }
        catch (Exception ex)
        {
             Logger.LogError($&#34;Error processing question: {ex.Message}&#34;);
             Response = $&#34;An error occurred: {ex.Message}&#34;;
        }
    }
}
</code></pre><p><strong>Explanation:</strong></p><ol><li><strong>Dependency Injection:</strong> We inject <code>KernelService</code> and <code>DataLoader</code> to use them in the page.</li><li><strong>UI Elements:</strong><ul><li>A text input (<code>UserQuestion</code>) for the user to type their question.</li><li>A button to trigger the question processing.</li><li>A div (<code>Response</code>) to display the result.</li></ul></li><li><strong><code>AskQuestion</code> Method:</strong><ul><li>Gets the kernel from the <code>KernelService</code>.</li><li>Uses Semantic Kernel&rsquo;s memory to search for relevant data.</li><li>Constructs an advanced prompt with retrieved context.</li><li>Uses Semantic Kernel to run an LLM completion and get the response.</li><li>Updates the <code>Response</code> variable, which triggers a UI update.</li></ul></li></ol><p><strong>How to Run</strong></p><ol><li>Make sure that your Qdrant instance is running.</li><li>Set your API keys in <code>appsettings.json</code>.</li><li>Add your knowledge base content in the <code>knowledge_base.txt</code> file.</li><li>Build and run your project (<code>dotnet run</code>).</li><li>Navigate to the application in your browser (<code>https://localhost:7085</code> by default).</li><li>Type your question in the input and hit &ldquo;Ask.&rdquo;</li></ol><p><strong>Important Considerations</strong></p><ul><li><strong>Error Handling:</strong> Implement better error handling and logging throughout your application.</li><li><strong>Memory Store Selection:</strong> Explore other vector databases or memory stores (like Azure Cognitive Search). <code>Qdrant</code> is a good starting point.</li><li><strong>Prompt Engineering:</strong> Fine-tune your prompts to get the best results.</li><li><strong>Performance:</strong> Vector search and LLM completions can be slow. Optimize based on your application&rsquo;s needs.</li><li><strong>Security:</strong> Be mindful of storing your API keys securely. Use environment variables or secrets management.</li></ul><p>Let me know if you would like to dive deeper into specific parts of this process, like more advanced prompt engineering or using a different memory store. I&rsquo;m here to help you get your RAG application working!</p></div><footer class=post-footer><ul class=post-tags><li><a href=http://localhost:1313/tags/programming/>Programming</a></li><li><a href=http://localhost:1313/tags/ai/>Ai</a></li></ul><nav class=paginav><a class=prev href=http://localhost:1313/posts/ollamatocs/><span class=title>« Prev</span><br><span>Connecting to Ollama running on Raspberry Pi</span>
</a><a class=next href=http://localhost:1313/posts/aws-saa-c02-study-guide/><span class=title>Next »</span><br><span>AWS SAA C02 Study Guide</span></a></nav><ul class=share-buttons><li><a target=_blank rel="noopener noreferrer" aria-label="share SemanticKernelRag on x" href="https://x.com/intent/tweet/?text=SemanticKernelRag&amp;url=http%3a%2f%2flocalhost%3a1313%2fposts%2fsemantickernelrag%2f&amp;hashtags=programming%2cai"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446C483.971.0 512 28.03 512 62.554zM269.951 190.75 182.567 75.216H56L207.216 272.95 63.9 436.783h61.366L235.9 310.383l96.667 126.4H456L298.367 228.367l134-153.151H371.033zM127.633 110h36.468l219.38 290.065H349.5z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share SemanticKernelRag on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=http%3a%2f%2flocalhost%3a1313%2fposts%2fsemantickernelrag%2f&amp;title=SemanticKernelRag&amp;summary=SemanticKernelRag&amp;source=http%3a%2f%2flocalhost%3a1313%2fposts%2fsemantickernelrag%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share SemanticKernelRag on reddit" href="https://reddit.com/submit?url=http%3a%2f%2flocalhost%3a1313%2fposts%2fsemantickernelrag%2f&title=SemanticKernelRag"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share SemanticKernelRag on facebook" href="https://facebook.com/sharer/sharer.php?u=http%3a%2f%2flocalhost%3a1313%2fposts%2fsemantickernelrag%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share SemanticKernelRag on whatsapp" href="https://api.whatsapp.com/send?text=SemanticKernelRag%20-%20http%3a%2f%2flocalhost%3a1313%2fposts%2fsemantickernelrag%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share SemanticKernelRag on telegram" href="https://telegram.me/share/url?text=SemanticKernelRag&amp;url=http%3a%2f%2flocalhost%3a1313%2fposts%2fsemantickernelrag%2f"><svg viewBox="2 2 28 28" height="30" width="30" fill="currentcolor"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share SemanticKernelRag on ycombinator" href="https://news.ycombinator.com/submitlink?t=SemanticKernelRag&u=http%3a%2f%2flocalhost%3a1313%2fposts%2fsemantickernelrag%2f"><svg width="30" height="30" viewBox="0 0 512 512" fill="currentcolor" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"><path d="M449.446.0C483.971.0 512 28.03 512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446zM183.8767 87.9921h-62.034L230.6673 292.4508V424.0079h50.6655V292.4508L390.1575 87.9921H328.1233L256 238.2489z"/></svg></a></li></ul></footer></article></main><footer class=footer><span>&copy; 2025 <a href=http://localhost:1313/>Sridhar quick notes</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>